@page "/"
@inject HttpClient httpClient
@inject NavigationManager navigationManager

<h1>Welcome to BattleShip!</h1>

<button @onclick="StartGame">Start</button>

@code {
    private async Task StartGame()
    {
        
        HttpResponseMessage response = await httpClient.PostAsync("http://localhost:5143/games", null);
        response.EnsureSuccessStatusCode();
        if (response.IsSuccessStatusCode)
        {
            var content = await response.Content.ReadAsStringAsync();
            Console.WriteLine(content);
        }
        else
        {
            Console.WriteLine($"Error: {response.StatusCode}");
        }
        navigationManager.NavigateTo("/home");
    }
}
